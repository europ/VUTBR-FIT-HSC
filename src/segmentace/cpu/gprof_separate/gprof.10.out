Flat profile:

Each sample counts as 0.01 seconds.
  %   cumulative   self              self     total           
 time   seconds   seconds    calls  us/call  us/call  name    
 61.85      3.11     3.11 38476479     0.08     0.08  median
 10.86      3.66     0.55 38476800     0.01     0.01  gen_pixel
  8.76      4.10     0.44 38476800     0.01     0.01  clip_window
  5.18      4.36     0.26 38476800     0.01     0.01  shift_window
  3.68      4.54     0.19 38476800     0.00     0.00  buffer
  3.68      4.73     0.19 38476800     0.00     0.03  system_input
  2.69      4.86     0.14 38476800     0.00     0.12  pixel_processing
  1.89      4.96     0.10 38476479     0.00     0.00  thresholding
  0.60      4.99     0.03                             main
  0.40      5.01     0.02       50   400.75   400.75  otsu
  0.10      5.01     0.01      501    10.00    10.00  update_base_pos
  0.00      5.01     0.00       50     0.00     0.00  histogram_clean
