Flat profile:

Each sample counts as 0.01 seconds.
  %   cumulative   self              self     total           
 time   seconds   seconds    calls  us/call  us/call  name    
 62.10      3.29     3.29 38476479     0.09     0.09  median
 10.21      3.83     0.54 38476800     0.01     0.01  gen_pixel
  7.28      4.22     0.39 38476800     0.01     0.01  clip_window
  5.01      4.48     0.27 38476800     0.01     0.01  shift_window
  4.82      4.74     0.26 38476800     0.01     0.03  system_input
  4.06      4.95     0.22 38476800     0.01     0.12  pixel_processing
  2.36      5.08     0.13 38476800     0.00     0.00  buffer
  1.42      5.15     0.08 38476479     0.00     0.00  thresholding
  1.13      5.21     0.06                             main
  0.19      5.22     0.01      501    20.00    20.00  update_base_pos
  0.00      5.22     0.00       50     0.00     0.00  histogram_clean
  0.00      5.22     0.00       50     0.00     0.00  otsu
