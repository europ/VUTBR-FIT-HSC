Flat profile:

Each sample counts as 0.01 seconds.
  %   cumulative   self              self     total           
 time   seconds   seconds    calls  us/call  us/call  name    
 61.39      2.97     2.97 38476479     0.08     0.08  median
 10.06      3.45     0.49 38476800     0.01     0.01  gen_pixel
  6.64      3.77     0.32 38476800     0.01     0.01  clip_window
  6.33      4.08     0.31 38476800     0.01     0.01  shift_window
  5.19      4.33     0.25 38476800     0.01     0.11  pixel_processing
  4.46      4.54     0.22 38476800     0.01     0.01  buffer
  3.94      4.73     0.19 38476800     0.00     0.03  system_input
  1.45      4.80     0.07                             main
  0.41      4.82     0.02 38476479     0.00     0.00  thresholding
  0.21      4.83     0.01       50   200.36   200.36  otsu
  0.10      4.84     0.01      501    10.00    10.00  update_base_pos
  0.00      4.84     0.00       50     0.00     0.00  histogram_clean
